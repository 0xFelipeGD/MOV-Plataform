# ==============================================================================
# Setup Wizard - Demonstra√ß√£o Visual
# ==============================================================================
# Este arquivo mostra como √© a experi√™ncia de usar o Setup Wizard

$ bash scripts/setup_wizard.sh

    __  ________ _    __   ____  __      __  ____                 
   /  |/  / __ \ |  / /  / __ \/ /___ _/ /_/ __/___  _________ ___
  / /|_/ / / / / | / /  / /_/ / / __ `/ __/ /_/ __ \/ ___/ __ `__ \
 / /  / / /_/ /| |/ /  / ____/ / /_/ / /_/ __/ /_/ / /  / / / / / /
/_/  /_/\____/ |___/  /_/   /_/\__,_/\__/_/  \____/_/  /_/ /_/ /_/ 

                   Setup Wizard - Configura√ß√£o Interativa


========================================
  Etapa 1/3: Escolha o Ambiente
========================================

Selecione o tipo de ambiente para deploy:

  1) Desenvolvimento
     ‚Ä¢ Todas as portas expostas (f√°cil acesso)
     ‚Ä¢ Sem SSL/TLS
     ‚Ä¢ Ideal para: Testes locais no seu PC

  2) Staging
     ‚Ä¢ Portas seletivas expostas
     ‚Ä¢ SSL opcional
     ‚Ä¢ Ideal para: Homologa√ß√£o e testes

  3) Produ√ß√£o
     ‚Ä¢ Apenas portas essenciais (80, 443, 8883)
     ‚Ä¢ SSL obrigat√≥rio
     ‚Ä¢ Firewall configurado
     ‚Ä¢ Ideal para: Deploy em VPS

Escolha [1-3]: 1
‚úì Ambiente: Desenvolvimento

========================================
  Etapa 2/3: Selecione os Componentes
========================================

Escolha quais servi√ßos deseja instalar:

‚Ñπ Pressione Enter para aceitar o padr√£o [Y/n]

  üìä Grafana (Dashboards de visualiza√ß√£o)? [Y/n]: 
  üíæ InfluxDB (Banco de dados de s√©ries temporais)? [Y/n]: 
  üîå Mosquitto (Broker MQTT para IoT)? [Y/n]: 
  üì° Telegraf (Coletor MQTT ‚Üí InfluxDB)? [Y/n]: 
  ü§ñ Analytics (Processamento Python em tempo real)? [Y/n]: 
  üåê Nginx (Proxy reverso com SSL)? [y/N]: n
  üíæ Sistema de Backup autom√°tico? [Y/n]: 

‚úì Componentes selecionados!

========================================
  Etapa 3/3: Configura√ß√µes Espec√≠ficas
========================================

Configura√ß√µes do Analytics:
  Limite de temperatura (¬∞C) para alertas [30.0]: 35
  Intervalo de processamento (segundos) [10]: 

========================================
  Resumo da Configura√ß√£o
========================================

Ambiente: development

Componentes:
  ‚úì Grafana
  ‚úì InfluxDB
  ‚úì Mosquitto (MQTT)
  ‚úì Telegraf
  ‚úì Analytics (Temp: 35.0¬∞C, Intervalo: 10s)
  ‚úì Backup autom√°tico

Confirmar e continuar? [Y/n]: 

========================================
  Executando Configura√ß√£o
========================================

Gerando credenciais... ‚úì Credenciais geradas
Criando estrutura de diret√≥rios... ‚úì Diret√≥rios criados
Configurando permiss√µes... ‚úì Permiss√µes configuradas
Gerando configura√ß√£o Docker Compose... ‚úì Configura√ß√£o salva
‚Ñπ Arquivo docker-compose.override.yml criado (portas expostas para dev)

========================================
  Setup Conclu√≠do com Sucesso!
========================================

‚úì Ambiente configurado: development
‚úì Componentes instalados: 6 de 7

‚Ñπ Pr√≥ximos passos:

  1. Iniciar a plataforma:
     docker compose up -d

  2. Acessar servi√ßos:
     ‚Ä¢ Grafana: http://localhost:3000
     ‚Ä¢ InfluxDB: http://localhost:8086
     ‚Ä¢ MQTT: localhost:1883

  3. Ver logs:
     docker compose logs -f

‚Ñπ Senhas e tokens est√£o no arquivo: .env
‚ö† Mantenha o arquivo .env seguro e n√£o commite no Git!

========================================
   Boa sorte com sua plataforma IoT!
========================================

# ==============================================================================
# Resultado: Setup completo em menos de 2 minutos!
# ==============================================================================
